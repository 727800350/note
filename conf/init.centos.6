#!/bin/bash
# centos 6 init script

## vim
wget http://www.vim.org/scripts/download_script.php?src_id=15150 markdown
## open vim and execute :source markdown

## programming
sudo yum groupinstall -y "Development Tools"
sudo yum install -y clang gcc gcc-c++ gdb cmake
sudo yum install -y valgrind
sudo yum install -y strace
sudo yum install -y libasan libasan-static
sudo yum install -y flex byacc

sudo yum install -y git
## mail必须和github上注册的帐号一样, name 可以不一样, 否则在github的个人主页上看不到自己的提交记录
git config --global user.name "Eric Wang"
git config --global user.email wangchaogo1990@gmail.com
cd $HOME
mkdir git
cd git
git clone git@github.com:ericuni/note.git
cd note/conf
cp .vimrc $HOME
cp .bashrc $HOME
cd $HOME

sudo yum install -y unrar
sudo yum install -y mlocate
sudo yum update -y firefox

sudo yum install -y mysql mysql-server mysql-devel
sudo yum install -y glib2 glib2-devel
sudo yum install -y boost

## php
sudo yum install -y php
sudo yum install -y php-mysql php-gd php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc

## phpMyAdmin: Web application to manage MySQL
## php data file in /usr/share/phpMyAdmin
## 访问权限的设置在/etc/httpd/conf.d/phpMyAdmin.conf
## Apache 2.4+ uses "Require all granted" instead of "Allow from all"
## 为了让局域网内的其他机器能够访问网站, 将防火墙关闭掉, 
## fedora: service firewalld stop; sudo setenforce 0
## centos: service iptables stop; sudo setenforce 0; enforce 的默认值在/etc/selinux/config, permissive = 0, enforcing = 1
## 当在/var/www/html/ 中创建了一个指向 /home/eric 的symlink, 可能在浏览器中访问时, 提示权限问题
## Apache 需要这个目录的rx权限以及上级目录的x权限
sudo yum install -y PhpMyAdmin

## project
sudo yum install -y libpcap libpcap-devel
sudo yum install -y wireshark ## no gui
sudo yum install -y wireshark-gnome
## Berkeley Internet Name Domain (BIND) DNS (Domain Name System)
sudo yum install -y bind 
## Network exploration tool and security scanner
sudo yum install -y nmap 
## A whois client that accepts both traditional and finger-style queries
sudo yum install -y jwhois 
## ntopng prerequisite
sudo yum install -y libxml2-devel sqlite-devel

### zlog
wget https://codeload.github.com/HardySimpson/zlog/tar.gz/latest-stable
tar -xvf latest-stable
cd zlog-latest-stable
make
sudo make install
cd ../
sudo rm -rf latest-stable zlog-latest-stable

### local libs
cd /etc/ld.so.conf.d
sudo touch local_lib.conf
sudo touch local_lib64.conf
sudo chown eric:eric local_lib.conf local_lib64.conf
echo /usr/local/lib > local_lib.conf
echo /usr/local/lib64 > local_lib64.conf
sudo chown root:root local_lib.conf local_lib64.conf
sudo ldconfig

## octave
## will install hdf5, hdf5-static and hdf5-devel
sudo yum install -y hdf5-static 
sudo rpm -ivh epstool-3.08-7.fc21.x86_64.rpm
sudo yum install -y octave

## python
sudo yum install -y gnuplot numpy scipy
sudo yum install -y python-pip 

wget https://pypi.python.org/packages/source/p/pip/pip-1.5.6.tar.gz#md5=01026f87978932060cc86c1dc527903e
tar -xvf pip-1.5.6.tar.gz
cd pip-1.5.6
sudo python setup.py install
cd ../
sudo rm -rf pip-1.5.6.tar.gz pip-1.5.6

sudo pip install gnuplot-py
sudo pip install xlutils

wget http://cdn.mysql.com/Downloads/Connector-Python/mysql-connector-python-2.0.2.tar.gz
tar -xvf mysql-connector-python-2.0.2.tar.gz
cd mysql-connector-2.0.2
sudo python setup.py install
cd ../
sudo rm -rf mysql-connector-2.0.2/*

## R language
sudo yum install -y R
sudo yum install -y curl libcurl libcurl-devel

## flash 
wget http://fpdownload.macromedia.com/get/flashplayer/pdc/11.2.202.425/flash-plugin-11.2.202.425-release.x86_64.rpm
sudo rpm -ivh flash-plugin-11.2.202.425-release.x86_64.rpm
rm flash-plugin-11.2.202.425-release.x86_64.rpm

