#!/bin/bash

if [ $# -lt 2 ]
then
  echo "usage: $0 local|ftp|ssh files" >&2
  exit 1
fi

method=$1
shift 1
list=$@

host=`hostname`
num=`cat /proc/net/dev | grep eth | wc -l`
if [ $num -gt 0 ]
then
  card="eth"`expr $num - 1`
  host=`ifconfig $card | grep inet | awk '{print $2}' | awk -F ":" '{print $NF}'`
fi

if [ "x$method" = "xlocal" ]
then
  for target in $list
  do
    echo "`pwd`/${target}"
  done
elif [ "x$method" = "xftp" ]
then
  for target in $list
  do
    echo "ftp://$host:`pwd`/${target}"
  done
elif [ "x$method" = "xssh" ]
then
  for target in $list
  do
    echo "`whoami`@$host:`pwd`/${target}"
  done
else
  echo "${method} not supported" >&2
fi

exit 0

